<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Re.Conecta API</title>
  <style>
    :root{
      --bg:#0b0f14;--card:#121823;--text:#e6edf3;--muted:#9fb3c8;
      --ok:#34d399;--warn:#fbbf24;--err:#ef4444;--accent:#22d3ee;--accent2:#8b5cf6;
      --border:rgba(255,255,255,.08);--soft:rgba(255,255,255,.03);
      --shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      color:var(--text);
      background:
        radial-gradient(1100px 600px at -10% -20%, rgba(139,92,246,.18), transparent 40%),
        radial-gradient(900px 500px at 120% 10%, rgba(34,211,238,.16), transparent 45%),
        var(--bg);
      min-height:100vh; padding:28px;
    }
    .wrap{max-width:1080px;margin:0 auto}
    .card{
      background:linear-gradient(180deg, var(--soft), rgba(255,255,255,.015)), var(--card);
      border:1px solid var(--border); border-radius:18px; padding:24px 26px; box-shadow:var(--shadow);
    }
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:14px}
    .chip{border:1px solid var(--border);padding:6px 10px;border-radius:999px;color:var(--muted);background:rgba(255,255,255,.02);font-size:13px}
    h1{margin:4px 0 12px;font-size:32px;letter-spacing:.3px}
    h1 span{display:inline-flex;gap:10px;align-items:center}
    .rocket{font-size:20px}
    .muted{color:var(--muted)}
    .cols{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px;margin-top:18px}
    @media(max-width:900px){.cols{grid-template-columns:1fr}}
    .tile{border:1px solid var(--border);background:rgba(255,255,255,.02);padding:18px;border-radius:14px}
    .tile a{color:var(--text);text-decoration:none}
    .tile h3{margin:0 0 8px;font-size:18px}
    .foot{margin-top:18px;color:var(--muted);font-size:13px}
    .badge{font-weight:700;padding:4px 10px;border-radius:999px;margin-left:8px}
    .ok{background:rgba(52,211,153,.15); color:#34d399; border:1px solid rgba(52,211,153,.45)}
    .err{background:rgba(239,68,68,.15); color:#ef4444; border:1px solid rgba(239,68,68,.45)}
    .hint code{font-family:ui-monospace,Menlo,Consolas,monospace}
    .hint{margin-top:14px}
    footer{margin-top:14px;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="chips">
        <span class="chip">Re.Conecta Â· API</span>
        <span class="chip">Spring Boot</span>
        <span class="chip">Java 17</span>
      </div>

      <h1><span>Seu backend estÃ¡ online <span class="rocket">ðŸš€</span><small id="apiStatus" class="badge ok">API ONLINE</small></span></h1>

      <p class="muted">Bem-vindo! Esta Ã© a pÃ¡gina inicial da <strong>Re.Conecta API</strong>.
        Use os atalhos abaixo para inspecionar, monitorar e testar os endpoints.</p>

      <div class="cols">
        <div class="tile">
          <a href="/swagger-ui/index.html"><h3>Swagger UI</h3></a>
          <div class="muted">Explore e teste os endpoints diretamente no navegador.</div>
        </div>

        <div class="tile">
          <a href="#" id="healthLink"><h3>Healthcheck <span id="healthBadge" class="badge ok">ONLINE âœ“</span></h3></a>
          <div class="muted">Verifica rapidamente se a API estÃ¡ respondendo.</div>
        </div>

        <div class="tile">
          <a href="/actuator"><h3>Actuator (opcional)</h3></a>
          <div class="muted">MÃ©tricas e infos (se o Actuator estiver habilitado).</div>
        </div>
      </div>

      <div class="hint muted">Dica: endpoints comuns â€” <code>/api/v1/â€¦</code> â€¢ <code>/auth/login</code> â€¢ <code>/clientes</code></div>
      <footer>Â© Re.Conecta â€” pÃ¡gina estÃ¡tica servida pelo Spring.</footer>
    </div>
  </div>

  <script>
    const healthUrl = '/healthz';      // seu endpoint de saÃºde
    const apiStatus = document.getElementById('apiStatus');
    const healthBadge = document.getElementById('healthBadge');
    const healthLink = document.getElementById('healthLink');

    healthLink.href = healthUrl;

    async function ping() {
      try {
        const res = await fetch(healthUrl, { cache: 'no-store' });
        if (res.ok) {
          apiStatus.textContent = 'API ONLINE';
          apiStatus.className = 'badge ok';
          healthBadge.textContent = 'ONLINE âœ“';
          healthBadge.className = 'badge ok';
        } else {
          throw new Error('bad status');
        }
      } catch (e) {
        apiStatus.textContent = 'API OFFLINE';
        apiStatus.className = 'badge err';
        healthBadge.textContent = 'OFFLINE âœ—';
        healthBadge.className = 'badge err';
      }
    }
    ping();
    setInterval(ping, 15000);
  </script>
</body>
</html>
